// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import {Test, console} from "forge-std/Test.sol";
import {MoodNft} from "src/MoodNft.sol";

contract MoodNftTest is Test {
    MoodNft moodNft;
    string public constant HAPPY_SVG_URI =
        "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KDTwhLS0gVXBsb2FkZWQgdG86IFNWRyBSZXBvLCB3d3cuc3ZncmVwby5jb20sIEdlbmVyYXRvcjogU1ZHIFJlcG8gTWl4ZXIgVG9vbHMgLS0+Cjxzdmcgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjgwMHB4IiB2aWV3Qm94PSIwIC0xMi4wMiA5NC41NzIgOTQuNTcyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8ZyBpZD0iaGFwcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02Mi44IC01My4wMTQpIj4NCiAgICA8cGF0aCBpZD0iUGF0aF8xIiBkYXRhLW5hbWU9IlBhdGggMSIgZD0iTTY0LjIyMyw4Ny43ODVjLjI4My0yNi42NDksMTYuNDI2LTMzLjM2Miw0NS44NTctMzMuMzUzLDI5LjQ1OC4wMDksNDUuNTg1LDYuNzMyLDQ1Ljg2OSwzMy4zNTMuMjkzLDI3LjQzMy0xNi43MTUsMzQuNDU4LTQ2LjU2NiwzNC4zMzNDNzkuOSwxMjEuOTkyLDYzLjkzOCwxMTQuNTQ5LDY0LjIyMyw4Ny43ODVaIiBmaWxsPSIjYTRkNGIyIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8cGF0aCBpZD0iUGF0aF8yIiBkYXRhLW5hbWU9IlBhdGggMiIgZD0iTTY0LjIyMyw4Ny43ODVjLjAxNS0xLjQyOC4wNzgtMi44LjE4NC00LjExLDEuODUzLDIyLjQsMTcuNTY5LDI4Ljg0LDQ0Ljk3NywyOC45NTcsMjcuOC4xMTYsNDQuNDYtNS45NzEsNDYuMzc5LTI4Ljk3LjEwNywxLjMxOS4xNzEsMi42OS4xODYsNC4xMjMuMjkyLDI3LjQzMy0xNi43MTQsMzQuNDU4LTQ2LjU2NSwzNC4zMzNDNzkuOSwxMjEuOTkyLDYzLjkzOSwxMTQuNTUsNjQuMjIzLDg3Ljc4NVoiIGZpbGw9IiMxYTE4MTgiIGZpbGwtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iMC4xNSIvPg0KICAgIDxwYXRoIGlkPSJQYXRoXzMiIGRhdGEtbmFtZT0iUGF0aCAzIiBkPSJNNjIuOCw4Ny43NzRjLjE0Ny0xMy44NjMsNC40NzctMjIuNTc3LDEyLjY0OS0yNy44NTgsOC4wMDgtNS4xNzUsMTkuNjQ3LTYuOTA3LDM0LjYyNy02LjlzMjYuNjI5LDEuNzQ1LDM0LjY0Miw2LjkyNWM4LjE3Miw1LjI4MiwxMi41LDEzLjk5MSwxMi42NDYsMjcuODM1LjE1MiwxNC4yNi00LjI1MiwyMy4yNTUtMTIuNjI1LDI4LjctOC4yMSw1LjM0MS0yMC4xNzUsNy4xMjQtMzUuMzY1LDcuMDYtMTUuMDIxLS4wNjQtMjYuNjM4LTIuMDItMzQuNTQtNy40MjItOC4wNTEtNS41LTEyLjE4Mi0xNC40MzEtMTIuMDM0LTI4LjM0Wk03Ni45ODgsNjIuMzA4QzY5LjY2MSw2Ny4wNDMsNjUuNzc2LDc1LjAxLDY1LjY0MSw4Ny44Yy0uMTM3LDEyLjg1NSwzLjU3LDIxLjAzMSwxMC44LDI1Ljk3MSw3LjM3Nyw1LjA0MywxOC40ODMsNi44NzEsMzIuOTQ5LDYuOTMyLDE0LjY2LjA2MiwyNi4xMjUtMS42MDYsMzMuODA4LTYuNiw3LjUyLTQuODkzLDExLjQ3NC0xMy4xMjgsMTEuMzM0LTI2LjMtLjEzNy0xMi43NzYtNC4wMTctMjAuNzQtMTEuMzQ0LTI1LjQ3Ny03LjQ4NS00LjgzOC0xOC42MzgtNi40NjQtMzMuMTA3LTYuNDY5Qzk1LjYzLDU1Ljg0Niw4NC40OCw1Ny40NjcsNzYuOTg4LDYyLjMwOFoiIGZpbGw9IiMxYTE4MTgiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgIDxwYXRoIGlkPSJQYXRoXzQiIGRhdGEtbmFtZT0iUGF0aCA0IiBkPSJNOTUuODcxLDg2LjMxOGExLjQxOSwxLjQxOSwwLDEsMSwyLjE0Ni0xLjg1NywxNS4zNDUsMTUuMzQ1LDAsMCwwLDEuNTgsMS41ODQsMTYuMzA4LDE2LjMwOCwwLDAsMCwyMC45NjksMCwxNS4zMTgsMTUuMzE4LDAsMCwwLDEuNTg4LTEuNTg0LDEuNDE5LDEuNDE5LDAsMSwxLDIuMTQ2LDEuODU3LDE3LjkzNywxNy45MzcsMCwwLDEtMS44NzcsMS44NzMsMTkuMTUxLDE5LjE1MSwwLDAsMS0yNC42ODMsMEExNy45NjQsMTcuOTY0LDAsMCwxLDk1Ljg3MSw4Ni4zMThaIiBmaWxsPSIjMWExODE4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8cGF0aCBpZD0iUGF0aF81IiBkYXRhLW5hbWU9IlBhdGggNSIgZD0iTTg5LjM2OSw4OC44OTNsLTYuMDU3LDBhMS42OCwxLjY4LDAsMCwxLTEuMTcyLTIuODg0LDUuNzUzLDUuNzUzLDAsMCwxLDcuOTI4LS40Niw1LjUzNyw1LjUzNywwLDAsMSwuNTY4LjU2OCwxLjY3OCwxLjY3OCwwLDAsMS0xLjI2NywyLjc3M1oiIGZpbGw9IiNlYjUwNWUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgIDxwYXRoIGlkPSJQYXRoXzYiIGRhdGEtbmFtZT0iUGF0aCA2IiBkPSJNMTM2Ljg1OCw4OC44OTVIMTMwLjhBMS42OCwxLjY4LDAsMCwxLDEyOS42MzgsODZhNS40MzgsNS40MzgsMCwwLDEsLjQ2Mi0uNDUsNS43Nyw1Ljc3LDAsMCwxLDcuNDU4LDAsNS41NzUsNS41NzUsMCwwLDEsLjU2Ny41NiwxLjY4LDEuNjgsMCwwLDEtMS4yNjcsMi43ODJaIiBmaWxsPSIjZWI1MDVlIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8ZyBpZD0iR3JvdXBfMSIgZGF0YS1uYW1lPSJHcm91cCAxIj4NCiAgICAgIDxwYXRoIGlkPSJQYXRoXzciIGRhdGEtbmFtZT0iUGF0aCA3IiBkPSJNODYuMzQyLDgyLjMyNUE2LjIyNiw2LjIyNiwwLDEsMCw4MC4xMTYsNzYuMSw2LjIzNyw2LjIzNywwLDAsMCw4Ni4zNDIsODIuMzI1WiIgZmlsbD0iIzFhMTgxOCIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogICAgICA8cGF0aCBpZD0iUGF0aF84IiBkYXRhLW5hbWU9IlBhdGggOCIgZD0iTTg1Ljc0Nyw3NS43MDlhMiwyLDAsMSwwLTItMkEyLDIsMCwwLDAsODUuNzQ3LDc1LjcwOVoiIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgICAgPHBhdGggaWQ9IlBhdGhfOSIgZGF0YS1uYW1lPSJQYXRoIDkiIGQ9Ik04My42NDksNzkuMDI4YTEuMjQxLDEuMjQxLDAsMSwwLTEuMjQxLTEuMjRBMS4yNDIsMS4yNDIsMCwwLDAsODMuNjQ5LDc5LjAyOFoiIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgIDwvZz4NCiAgICA8ZyBpZD0iR3JvdXBfMiIgZGF0YS1uYW1lPSJHcm91cCAyIj4NCiAgICAgIDxwYXRoIGlkPSJQYXRoXzEwIiBkYXRhLW5hbWU9IlBhdGggMTAiIGQ9Ik0xMzMuODMsODIuMzI1QTYuMjI2LDYuMjI2LDAsMSwwLDEyNy42LDc2LjEsNi4yMzgsNi4yMzgsMCwwLDAsMTMzLjgzLDgyLjMyNVoiIGZpbGw9IiMxYTE4MTgiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgICAgPHBhdGggaWQ9IlBhdGhfMTEiIGRhdGEtbmFtZT0iUGF0aCAxMSIgZD0iTTEzMy4yMzYsNzUuNzA5YTIsMiwwLDEsMC0yLTJBMiwyLDAsMCwwLDEzMy4yMzYsNzUuNzA5WiIgZmlsbD0iI2ZmZmZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogICAgICA8cGF0aCBpZD0iUGF0aF8xMiIgZGF0YS1uYW1lPSJQYXRoIDEyIiBkPSJNMTMxLjEzNyw3OS4wMjhhMS4yNDEsMS4yNDEsMCwxLDAtMS4yNDEtMS4yNEExLjI0MywxLjI0MywwLDAsMCwxMzEuMTM3LDc5LjAyOFoiIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgIDwvZz4NCiAgPC9nPg0KPC9zdmc+";
    string public constant SAD_SVG_URI =
        "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KDTwhLS0gVXBsb2FkZWQgdG86IFNWRyBSZXBvLCB3d3cuc3ZncmVwby5jb20sIEdlbmVyYXRvcjogU1ZHIFJlcG8gTWl4ZXIgVG9vbHMgLS0+Cjxzdmcgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjgwMHB4IiB2aWV3Qm94PSIwIC0xMi4wMiA5NC41NzIgOTQuNTcyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8ZyBpZD0iYW5ncnkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNDguMDE5IC0xODQuMzU3KSI+DQogICAgPHBhdGggaWQ9IlBhdGhfMzgiIGRhdGEtbmFtZT0iUGF0aCAzOCIgZD0iTTM0OS40NDIsMjE5LjEyOGMuMjgzLTI2LjY0OSwxNi40MjYtMzMuMzYyLDQ1Ljg1Ny0zMy4zNTMsMjkuNDU4LjAwOSw0NS41ODUsNi43MzIsNDUuODY5LDMzLjM1My4yOTMsMjcuNDMzLTE2LjcxNCwzNC40NTgtNDYuNTY1LDM0LjMzM0MzNjUuMTE2LDI1My4zMzUsMzQ5LjE1OCwyNDUuODkyLDM0OS40NDIsMjE5LjEyOFoiIGZpbGw9IiNlZjdhODciIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgIDxwYXRoIGlkPSJQYXRoXzM5IiBkYXRhLW5hbWU9IlBhdGggMzkiIGQ9Ik0zNDkuNDQyLDIxOS4xMjdjLjAxNS0xLjQyNy4wNzgtMi43OTQuMTg0LTQuMTA5LDEuODUzLDIyLjQsMTcuNTcsMjguODQsNDQuOTc3LDI4Ljk1NywyNy44LjExNiw0NC40Ni01Ljk3MSw0Ni4zOC0yOC45Ny4xMDYsMS4zMTkuMTcsMi42OS4xODYsNC4xMjIuMjkyLDI3LjQzNC0xNi43MTUsMzQuNDU4LTQ2LjU2NiwzNC4zMzRDMzY1LjExNiwyNTMuMzM1LDM0OS4xNTgsMjQ1Ljg5MywzNDkuNDQyLDIxOS4xMjdaIiBmaWxsPSIjMWExODE4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9IjAuMTUiLz4NCiAgICA8cGF0aCBpZD0iUGF0aF80MCIgZGF0YS1uYW1lPSJQYXRoIDQwIiBkPSJNMzQ4LjAyMywyMTkuMTE3Yy4xNDctMTMuODYzLDQuNDc3LTIyLjU3NywxMi42NDktMjcuODU4LDguMDA4LTUuMTc1LDE5LjY0Ny02LjkwNywzNC42MjctNi45czI2LjYyOSwxLjc0NSwzNC42NDIsNi45MjVjOC4xNzIsNS4yODIsMTIuNSwxMy45OTEsMTIuNjQ2LDI3LjgzNS4xNTIsMTQuMjYtNC4yNTIsMjMuMjU1LTEyLjYyNCwyOC43LTguMjExLDUuMzQxLTIwLjE3NSw3LjEyNC0zNS4zNjYsNy4wNi0xNS4wMi0uMDY0LTI2LjYzOC0yLjAyMS0zNC41NC03LjQyMS04LjA1MS01LjUtMTIuMTgxLTE0LjQzMi0xMi4wMzQtMjguMzQxWm0xNC4xODUtMjUuNDY2Yy03LjMyOCw0LjczNS0xMS4yMTIsMTIuNy0xMS4zNDgsMjUuNDg4LS4xMzYsMTIuODU1LDMuNTcxLDIxLjAzMSwxMC44LDI1Ljk3MSw3LjM3Nyw1LjA0MywxOC40ODMsNi44NzEsMzIuOTQ5LDYuOTMyLDE0LjY2LjA2MiwyNi4xMjUtMS42MDUsMzMuODA4LTYuNiw3LjUyMS00Ljg5MiwxMS40NzQtMTMuMTI3LDExLjMzNC0yNi4zLS4xMzYtMTIuNzc2LTQuMDE3LTIwLjc0MS0xMS4zNDQtMjUuNDc3LTcuNDg1LTQuODM4LTE4LjYzOC02LjQ2NS0zMy4xMDctNi40NjhDMzgwLjg0OSwxODcuMTg5LDM2OS43LDE4OC44MSwzNjIuMjA4LDE5My42NTFaIiBmaWxsPSIjMWExODE4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8cGF0aCBpZD0iUGF0aF80MSIgZGF0YS1uYW1lPSJQYXRoIDQxIiBkPSJNMzgzLjIzNywyMjMuNTUxYTEuNDIsMS40MiwwLDAsMS0yLjE0Ny0xLjg1OCwxOC4wNTUsMTguMDU1LDAsMCwxLDEuODY5LTEuODcyLDE5LjE0OCwxOS4xNDgsMCwwLDEsMjQuNjgxLDBsMCwwYTE4LjA3NywxOC4wNzcsMCwwLDEsMS44NzYsMS44NzgsMS40MTksMS40MTksMCwwLDEtMi4xNDYsMS44NTgsMTUuMTYyLDE1LjE2MiwwLDAsMC0xLjU4Ny0xLjU3OHYtLjAwNmExNi4zMDksMTYuMzA5LDAsMCwwLTIwLjk3LDBBMTUuMjM4LDE1LjIzOCwwLDAsMCwzODMuMjM3LDIyMy41NTFaIiBmaWxsPSIjMWExODE4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8ZyBpZD0iR3JvdXBfMTAiIGRhdGEtbmFtZT0iR3JvdXAgMTAiPg0KICAgICAgPHBhdGggaWQ9IlBhdGhfNDIiIGRhdGEtbmFtZT0iUGF0aCA0MiIgZD0iTTM3MS41NTgsMjEzLjgzOGE2LjIyNiw2LjIyNiwwLDEsMC02LjIyNi02LjIyNkE2LjIzOCw2LjIzOCwwLDAsMCwzNzEuNTU4LDIxMy44MzhaIiBmaWxsPSIjMWExODE4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICAgIDxwYXRoIGlkPSJQYXRoXzQzIiBkYXRhLW5hbWU9IlBhdGggNDMiIGQ9Ik0zNzAuOTYzLDIwNy4yMjJhMiwyLDAsMSwwLTItMkEyLDIsMCwwLDAsMzcwLjk2MywyMDcuMjIyWiIgZmlsbD0iI2ZmZmZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogICAgICA8cGF0aCBpZD0iUGF0aF80NCIgZGF0YS1uYW1lPSJQYXRoIDQ0IiBkPSJNMzY4Ljg2NSwyMTAuNTQxYTEuMjQxLDEuMjQxLDAsMSwwLTEuMjQtMS4yNEExLjI0MiwxLjI0MiwwLDAsMCwzNjguODY1LDIxMC41NDFaIiBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8L2c+DQogICAgPGcgaWQ9Ikdyb3VwXzExIiBkYXRhLW5hbWU9Ikdyb3VwIDExIj4NCiAgICAgIDxwYXRoIGlkPSJQYXRoXzQ1IiBkYXRhLW5hbWU9IlBhdGggNDUiIGQ9Ik00MTkuMDQ5LDIxMy44MzhhNi4yMjYsNi4yMjYsMCwxLDAtNi4yMjYtNi4yMjZBNi4yMzgsNi4yMzgsMCwwLDAsNDE5LjA0OSwyMTMuODM4WiIgZmlsbD0iIzFhMTgxOCIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogICAgICA8cGF0aCBpZD0iUGF0aF80NiIgZGF0YS1uYW1lPSJQYXRoIDQ2IiBkPSJNNDE4LjQ1NSwyMDcuMjIyYTIsMiwwLDEsMC0yLTJBMiwyLDAsMCwwLDQxOC40NTUsMjA3LjIyMloiIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPg0KICAgICAgPHBhdGggaWQ9IlBhdGhfNDciIGRhdGEtbmFtZT0iUGF0aCA0NyIgZD0iTTQxNi4zNTYsMjEwLjU0MWExLjI0MSwxLjI0MSwwLDEsMC0xLjI0LTEuMjRBMS4yNDMsMS4yNDMsMCwwLDAsNDE2LjM1NiwyMTAuNTQxWiIgZmlsbD0iI2ZmZmZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogICAgPC9nPg0KICAgIDxwYXRoIGlkPSJQYXRoXzQ4IiBkYXRhLW5hbWU9IlBhdGggNDgiIGQ9Ik0zNzQuNTg4LDIyMC4yMzNsLTYuMDU3LDBhMS42OCwxLjY4LDAsMCwxLTEuMTcxLTIuODg0LDUuNzUzLDUuNzUzLDAsMCwxLDcuOTI3LS40NTksNS40MzksNS40MzksMCwwLDEsLjU2OC41NjgsMS42NzgsMS42NzgsMCwwLDEtMS4yNjcsMi43NzNaIiBmaWxsPSIjZWI1MDVlIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8cGF0aCBpZD0iUGF0aF80OSIgZGF0YS1uYW1lPSJQYXRoIDQ5IiBkPSJNNDIyLjA3OCwyMjAuMjM0SDQxNi4wMmExLjY4LDEuNjgsMCwwLDEtMS4xNjMtMi44OTMsNS41ODEsNS41ODEsMCwwLDEsLjQ2Mi0uNDQ5LDUuNzcsNS43NywwLDAsMSw3LjQ1OCwwLDUuNDc0LDUuNDc0LDAsMCwxLC41NjcuNTYsMS42NzgsMS42NzgsMCwwLDEtMS4yNjYsMi43ODFaIiBmaWxsPSIjZWI1MDVlIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4NCiAgICA8cGF0aCBpZD0iUGF0aF81MCIgZGF0YS1uYW1lPSJQYXRoIDUwIiBkPSJNMzY1LjYwNywyMDAuNjE0YTEuNDIxLDEuNDIxLDAsMCwxLDEuMjgtMi41MzdsMTMuOTY1LDcuMDc1YTEuNDIxLDEuNDIxLDAsMCwxLTEuMjc5LDIuNTM3WiIgZmlsbD0iIzFhMTgxOCIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogICAgPHBhdGggaWQ9IlBhdGhfNTEiIGRhdGEtbmFtZT0iUGF0aCA1MSIgZD0iTTQyMy43MjQsMTk4LjA3N0ExLjQyMSwxLjQyMSwwLDAsMSw0MjUsMjAwLjYxNGwtMTMuOTY1LDcuMDc1YTEuNDIxLDEuNDIxLDAsMCwxLTEuMjc5LTIuNTM3WiIgZmlsbD0iIzFhMTgxOCIgZmlsbC1ydWxlPSJldmVub2RkIi8+DQogIDwvZz4NCjwvc3ZnPg==";

    address USER = makeAddr("user");

    function setUp() public {
        moodNft = new MoodNft(SAD_SVG_URI, HAPPY_SVG_URI);
    }

    function testViewTokenURI() public {
        vm.prank(USER);
        moodNft.mintNft();
        vm.prank(USER);
        moodNft.flipMood(0);
        console.log(moodNft.tokenURI(0));
    }
}
